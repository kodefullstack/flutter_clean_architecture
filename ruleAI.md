# ü§ñ Project AI Interaction Rules (ruleAI.md)

This document outlines the fundamental rules for interaction, development, and automation within this project. Strict adherence to these rules is mandatory to ensure architectural consistency, code maintainability, and an efficient Agent Code AI workflow.

---

## 1. ‚öôÔ∏è Development Standards and Automation

### 1.1. Mandatory Use of `generator.dart`

All new folder and file creations **MUST** be automated via the dedicated file generation script.

* **Rule:** Whenever a structural file or folder (especially those related to Clean Architecture) is needed, you must:
    * **Action:** Study and execute the generation logic via `generator.dart`.
    * **Exception:** Folders or files that are explicitly defined as **not handled** by `generator.dart` (e.g., assets or fonts) may be created manually.

### 1.2. Agent Code AI Workflow

Any Agent Code AI tasked with performing code changes must adhere to this commit standard.

* **Rule:** Upon completion of any task by the **Agent Code AI**, a commit is mandatory, following the established commit instruction format.

---

## 2. üöÄ Application Startup Configuration

All necessary application setup and initialization tasks must be centralized within the `AppConfig` class and executed sequentially in the `main()` function.

* **Rule:** If you need to initialize a new service or configuration when the application starts (e.g., database, services, external SDKs):
    1.  Add a new **asynchronous function** (e.g., `Future<void> customMethod() async {}`) to the `AppConfig` class.
    2.  Call this new function in `main()` using the **`await`** keyword to ensure sequential execution.

> **Example in `main()`:**
> ```dart
> void main() async {
>   WidgetsFlutterBinding.ensureInitialized();
> 
>   final config = ConfigEnv(Environment.dev);
>   final appConfig = AppConfig(config);
>   await appConfig.initializeFirebase();
>   await appConfig.initializeDatabase();
>   await appConfig.customMethod(); // <--- New initialization method
> 
>   final getIt = await getDependencies(config);
>   runApp(AppProviders(getIt: getIt, child: const MyApp()));
> }
> ```

---

## 3. üèõÔ∏è Clean Architecture Implementation Rules

The code structure generated by `generator.dart` **MUST** strictly comply with the defined patterns for each layer.

### 3.1. Data Source and Repository Layers

These layers must follow the **Interface/Implementation Pattern**.

| Layer Component | Required Structure | Example Pattern |
| :--- | :--- | :--- |
| **Data Source** | Abstract Class (Interface) + Concrete Class (Implementation) | `abstract class DataSourceName { ... }` &rarr; `class DataSourceNameImpl extends DataSourceName { ... }` |
| **Repository** | Abstract Class (Interface) + Concrete Class (Implementation) | `abstract class RepositoryName { ... }` &rarr; `class RepositoryNameImpl extends RepositoryName { ... }` |

### 3.2. Usecase Layer (Domain)

Usecases must be simple, isolated, and specific to a single business action.

* **Structure Rule:** Usecases must be implemented as **concrete classes** (no accompanying abstract interface).
* **File Rule:** There must be **one Usecase per file** (Example: `name_a_usecase.dart`).
* **Method Rule:** The main execution method **MUST** be named `call()`.

---

## 4. üíæ Constants Handling

All unchanging values, keys, or global parameters **MUST** be stored within the **`lib/core/constants`** folder.

* **Rule:** The most relevant file for the constant type must be chosen:
    * `api_constants.dart` (for API URLs, endpoints, headers).
    * `app_constants.dart` (for general application settings).
    * `assets_constants.dart` (for paths to images, icons, etc.).
    * `encryption_constants.dart` (for encryption/decryption keys).
    * `error_constants.dart` (for standard error codes and messages).
    * `message_constants.dart` (for general non-UI messages).
    * `route_constants.dart` (for navigation route names).
    * `storage_constants.dart` (for local storage keys like SharedPreferences).
* **Action:** If no suitable file exists, a **new, appropriately named file** must be created (Example: `user_preference_constants.dart`) within the `lib/core/constants` folder.
---

## 5. üåç Localization (i18n) Principle

All user-facing text displayed in the UI **MUST NOT** be hardcoded into components. The primary language focus is **English**.

* **Rule:** All displayed strings must be sourced from the project's localization files.
* **Placeholder Usage:** In code and documentation, localization keys are referenced using the syntax **`${localization.key_name}`**.

| UI Element | English Key/Text (Primary Focus) | Usage in Code/Docs |
| :--- | :--- | :--- |
| **Loading State** | `waiting`: Please wait... | `${localization.waiting}` |
| **Settings Title** | `theme_title`: Theme | `${localization.theme_title}` |
| **Button Text** | `theme_button_change`: Change Theme | `${localization.theme_button_change}` |